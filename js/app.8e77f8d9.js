(function(e){function t(t){for(var n,a,o=t[0],l=t[1],u=t[2],d=0,m=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&m.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},r={app:0},s=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/zadanie_slider/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"2e14":function(e,t,i){},"35d6":function(e,t,i){"use strict";i("95b0")},"52ce":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[e.imagesReady&&Array.isArray(e.images)?i("Slider",{attrs:{sliderHeight:e.sliderHeight,images:e.images}}):e.imagesReady?i("p",[e._v("Something goes wrong, try again")]):i("Spinner")],1)},s=[],a=(i("d81d"),i("5530")),o=(i("96cf"),i("1da1")),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slider-container"},[e.likes.length?i("SliderLikes",{attrs:{likesCount:e.likes[e.indexOfCurrentImageLikes].likes},on:{dislike:e.dislikeHandler,like:e.likeHandler}}):e._e(),i("div",{staticClass:"slider"},[i("div",{staticClass:"slider-image-container"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showHappyImage||e.showSadImage?i("div",{staticClass:"image-overlay",class:{"image-overlay--like":e.showHappyImage,"image-overlay--dislike":e.showSadImage}},[e.showHappyImage?i("p",{staticClass:"image-overlay__content"},[e._v(":)")]):e._e(),e.showSadImage?i("p",{staticClass:"image-overlay__content"},[e._v(":(")]):e._e()]):e._e()]),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("img",{key:e.images[e.index].image,staticClass:"slider__image slider__image--happy",style:{height:e.sliderHeight+"px"},attrs:{src:e.images[e.index].image}})]),i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.images[e.index].title||e.images[e.index].subtitle?i("SliderContent",{key:e.images[e.index].title,attrs:{title:e.images[e.index].title,subtitle:e.images[e.index].subtitle}}):e._e()],1)],1),i("SliderNavigationArrows",{attrs:{showPrevImageArrow:e.index>0,showNextImageArrow:e.index<e.maxIndex},on:{prevImage:e.prevImageHandler,nextImage:e.nextImageHandler}})],1),i("SliderNavigationDots",{attrs:{imagesCount:e.maxIndex+1,currentImageIndex:e.index},on:{goToImage:e.goToImageHandler}})],1)},u=[],c=(i("c740"),i("a9e3"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slider-likes"},[i("button",{staticClass:"slider-likes__button slider-likes__button--dislike",on:{click:e.dislike}},[e._v(" - ")]),i("p",{staticClass:"slider-likes__likes"},[e._v(e._s(e.likesCount))]),i("button",{staticClass:"slider-likes__button slider-likes__button--like",on:{click:e.like}},[e._v(" + ")])])}),d=[],m={name:"SliderLikes",props:{likesCount:{type:Number,default:0}},methods:{dislike:function(){this.likesCount>0&&this.$emit("dislike")},like:function(){this.$emit("like")}}},g=m,f=(i("e9be"),i("2877")),p=Object(f["a"])(g,c,d,!1,null,null,null),h=p.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slider-control"},[e.showPrevImageArrow?i("button",{staticClass:"slider__arrow slider__arrow--left arrow left",on:{click:e.prevImage}}):i("div"),e.showNextImageArrow?i("button",{staticClass:"slider__arrow slider__arrow--right arrow right",on:{click:e.nextImage}}):e._e()])},k=[],_={name:"SliderNavigation",props:{showPrevImageArrow:{type:Boolean,required:!0},showNextImageArrow:{type:Boolean,required:!0}},methods:{prevImage:function(){this.$emit("prevImage")},nextImage:function(){this.$emit("nextImage")}}},x=_,w=(i("7f9e"),Object(f["a"])(x,v,k,!1,null,null,null)),I=w.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slider-navigation-dots"},e._l(e.imagesCount,(function(t,n){return i("button",{key:"dot__"+n,staticClass:"dot",class:{"dot--active":n===e.currentImageIndex},on:{click:function(t){return e.goToImage(n)}}})})),0)},y=[],S={name:"SliderNavigationDots",props:{imagesCount:{type:Number,required:!0},currentImageIndex:{type:Number,required:!0}},methods:{goToImage:function(e){this.$emit("goToImage",e)}}},C=S,O=(i("35d6"),Object(f["a"])(C,b,y,!1,null,null,null)),H=O.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slider-content"},[i("p",{staticClass:"slider-content__title"},[e._v(e._s(e.title))]),i("p",{staticClass:"slider-content__subtitle"},[e._v(e._s(e.subtitle))])])},N=[],T={name:"SliderContent",props:{title:{type:String,default:""},subtitle:{type:String,default:""}}},L=T,$=(i("c4a7"),Object(f["a"])(L,j,N,!1,null,"c476cb26",null)),A=$.exports,D=function(e){localStorage.setItem("images-likes",JSON.stringify(e))},P=function(){return JSON.parse(localStorage.getItem("images-likes"))||[]},R={name:"Slider",data:function(){return{index:0,likes:[],showHappyImage:!1,showSadImage:!1,timeoutID:""}},props:{sliderHeight:{type:Number,default:480},images:{type:Array,required:!0}},computed:{maxIndex:function(){return this.images.length-1},indexOfCurrentImageLikes:function(){var e=this;return this.likes.findIndex((function(t){return t.id===e.images[e.index].id}))}},components:{SliderLikes:h,SliderNavigationArrows:I,SliderNavigationDots:H,SliderContent:A},watch:{likes:{deep:!0,handler:function(e){D(e)}}},methods:{dislikeHandler:function(){this.likes[this.indexOfCurrentImageLikes].likes>0&&(this.likes[this.indexOfCurrentImageLikes].likes=--this.likes[this.indexOfCurrentImageLikes].likes),this.imageDislikeOverlayHandler()},likeHandler:function(){var e=this,t=this.index,i=this.likes.findIndex((function(i){return i.id===e.images[t].id}));this.likes[i].likes=++this.likes[i].likes,this.imageLikeOverlayHandler()},prevImageHandler:function(){this.index>0&&(this.index=--this.index)},nextImageHandler:function(){this.index<this.maxIndex&&(this.index=++this.index)},goToImageHandler:function(e){this.index=e},imageDislikeOverlayHandler:function(){var e=this;clearTimeout(this.timeoutID),this.showHappyImage=!1,this.showSadImage=!0,this.timeoutID=setTimeout((function(){return e.showSadImage=!1}),500)},imageLikeOverlayHandler:function(){var e=this;clearTimeout(this.timeoutID),this.showHappyImage=!0,this.showSadImage=!1,this.timeoutID=setTimeout((function(){return e.showHappyImage=!1}),500)},createLikes:function(){var e=P();e.length>0?this.likes=this.images.map((function(t){var i=e.findIndex((function(e){return e.id===t.id}));return{id:t.id,likes:-1===i?0:e[i].likes}})):this.likes=this.images.map((function(e){return{id:e.id,likes:0}}))}},mounted:function(){this.createLikes()}},E=R,M=(i("c66b"),Object(f["a"])(E,l,u,!1,null,"08a7b68e",null)),q=M.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{attrs:{fill:"#256EFF",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"}},[i("animateTransform",{attrs:{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"}})],1)])])},B=[],z=(i("e84a"),{}),F=Object(f["a"])(z,J,B,!1,null,"095cec6d",null),W=F.exports,X=(i("d3b7"),"https://zadanie.madebykawka.pl/wp-json/wp/v2/posts/"),G=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(X);case 3:return t=e.sent,e.next=6,t.json();case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e["catch"](0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),K={name:"App",data:function(){return{imagesReady:!1,images:[]}},components:{Slider:q,Spinner:W},computed:{windowWidth:function(){return window.screen.width},sliderHeight:function(){var e=window.screen.width,t=720,i=920;switch(!0){case e<t:return 220;case e<i:return 320;default:return 400}}},methods:{getImages:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G();case 3:i=t.sent,e.images=i.map((function(e){return Object(a["a"])({id:e.id},e.acf)})),e.imagesReady=!0,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.imagesReady=!0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){this.getImages()}},Q=K,U=(i("5c0b"),Object(f["a"])(Q,r,s,!1,null,null,null)),V=U.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(V)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";i("9c0c")},"7c96":function(e,t,i){},"7f9e":function(e,t,i){"use strict";i("7c96")},"95b0":function(e,t,i){},"9c0c":function(e,t,i){},ac3d:function(e,t,i){},c4a7:function(e,t,i){"use strict";i("ac3d")},c58e:function(e,t,i){},c66b:function(e,t,i){"use strict";i("52ce")},e84a:function(e,t,i){"use strict";i("c58e")},e9be:function(e,t,i){"use strict";i("2e14")}});
//# sourceMappingURL=app.8e77f8d9.js.map